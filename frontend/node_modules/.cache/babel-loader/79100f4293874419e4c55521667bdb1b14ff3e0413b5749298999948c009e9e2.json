{"ast":null,"code":"import _regeneratorRuntime from\"/home/tashfia/Documents/linkedin/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/tashfia/Documents/linkedin/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/tashfia/Documents/linkedin/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useContext}from'react';import axios from'axios';import{AuthContext}from'../../Hooks/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TimeLine=function TimeLine(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var authContext=useContext(AuthContext);var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];useEffect(function(){var user=authContext.username;if(user){setUsername(user);fetchPosts(user);}},[]);var fetchPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(username){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(username);_context.prev=1;_context.next=4;return axios.get(\"http://post-service:8000/post/gettimeline?user_id=\".concat(username),{});case 4:response=_context.sent;setPosts(response.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error('Error fetching posts:',_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function fetchPosts(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Profile\"}),posts.map(function(post){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:post.username}),/*#__PURE__*/_jsx(\"p\",{children:post.texts}),post.image_url&&/*#__PURE__*/_jsx(\"img\",{src:post.image_url,alt:\"Post\"})]},post.id);})]});};export default TimeLine;","map":{"version":3,"names":["React","useEffect","useState","useContext","axios","AuthContext","jsx","_jsx","jsxs","_jsxs","TimeLine","_useState","_useState2","_slicedToArray","posts","setPosts","authContext","_useState3","_useState4","username","setUsername","user","fetchPosts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","console","log","get","concat","sent","data","t0","error","stop","_x","apply","arguments","children","map","post","texts","image_url","src","alt","id"],"sources":["/home/tashfia/Documents/linkedin/frontend/src/Components/Post/Timeline.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../../Hooks/AuthContext';\n\n\nconst TimeLine = () => {\n    const [posts, setPosts] = useState([]);\n    const authContext = useContext(AuthContext);\n    const [username, setUsername] = useState(\"\");\n\n    useEffect(() => {\n        const user = authContext.username;\n        if (user ) {\n          setUsername(user);\n          fetchPosts(user);\n        }\n      }, []);\n\n      const fetchPosts = async (username) => {\n\n        console.log(username);\n        \n        try {\n          const response = await axios.get(`http://post-service:8000/post/gettimeline?user_id=${username}`, {\n          });\n          setPosts(response.data);\n        } catch (error) {\n          console.error('Error fetching posts:', error);\n        }\n      };\n\n      return (\n        <div>\n        <h1>Profile</h1>\n        {posts.map((post) => (\n          <div key={post.id}>\n            <h2>{post.username}</h2>\n            <p>{post.texts}</p>\n            {post.image_url && (\n              <img src={post.image_url} alt=\"Post\" />\n            )}\n          </div>\n        ))}\n      </div>\n      );\n};\n\nexport default TimeLine;"],"mappings":"6YAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAC9D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGtD,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACnB,IAAAC,SAAA,CAA0BT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,GAAM,CAAAI,WAAW,CAAGb,UAAU,CAACE,WAAW,CAAC,CAC3C,IAAAY,UAAA,CAAgCf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAL,cAAA,CAAAI,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5BjB,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAoB,IAAI,CAAGL,WAAW,CAACG,QAAQ,CACjC,GAAIE,IAAI,CAAG,CACTD,WAAW,CAACC,IAAI,CAAC,CACjBC,UAAU,CAACD,IAAI,CAAC,CAClB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAC,UAAU,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOR,QAAQ,MAAAS,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAEhCC,OAAO,CAACC,GAAG,CAAChB,QAAQ,CAAC,CAACY,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGG,CAAA7B,KAAK,CAACgC,GAAG,sDAAAC,MAAA,CAAsDlB,QAAQ,EAAI,CAClG,CAAC,CAAC,QADIS,QAAQ,CAAAG,QAAA,CAAAO,IAAA,CAEdvB,QAAQ,CAACa,QAAQ,CAACW,IAAI,CAAC,CAACR,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAS,EAAA,CAAAT,QAAA,aAExBG,OAAO,CAACO,KAAK,CAAC,uBAAuB,CAAAV,QAAA,CAAAS,EAAO,CAAC,CAAC,yBAAAT,QAAA,CAAAW,IAAA,MAAAf,OAAA,gBAEjD,kBAXK,CAAAL,UAAUA,CAAAqB,EAAA,SAAApB,IAAA,CAAAqB,KAAA,MAAAC,SAAA,OAWf,CAED,mBACEpC,KAAA,QAAAqC,QAAA,eACAvC,IAAA,OAAAuC,QAAA,CAAI,SAAO,CAAI,CAAC,CACfhC,KAAK,CAACiC,GAAG,CAAC,SAACC,IAAI,qBACdvC,KAAA,QAAAqC,QAAA,eACEvC,IAAA,OAAAuC,QAAA,CAAKE,IAAI,CAAC7B,QAAQ,CAAK,CAAC,cACxBZ,IAAA,MAAAuC,QAAA,CAAIE,IAAI,CAACC,KAAK,CAAI,CAAC,CAClBD,IAAI,CAACE,SAAS,eACb3C,IAAA,QAAK4C,GAAG,CAAEH,IAAI,CAACE,SAAU,CAACE,GAAG,CAAC,MAAM,CAAE,CACvC,GALOJ,IAAI,CAACK,EAMV,CAAC,EACP,CAAC,EACC,CAAC,CAEZ,CAAC,CAED,cAAe,CAAA3C,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}