{"ast":null,"code":"import _slicedToArray from\"/home/tashfia/Documents/linkedin/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/home/tashfia/Documents/linkedin/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useContext,useState}from\"react\";import styled from\"styled-components\";import\"./Login.css\";import{Link}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{AuthContext}from\"../../Hooks/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  height: 100vh;\\n\"])));var FormContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  width: 320px;\\n  margin-left: 150px;\\n  margin-top: 150px;\\n\"])));var Form=styled.form(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 400px;\\n  padding: 40px;\\n  background-color: #fff;\\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);\\n\"])));var Label=styled.label(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  margin-bottom: 20px;\\n  font-size: 18px;\\n  font-weight: bold;\\n\"])));var Input=styled.input(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  padding: 10px;\\n  font-size: 16px;\\n  border: none;\\n  border-bottom: 2px solid #ccc;\\n\"])));var Button=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  -webkit-border-radius: 14;\\n  -moz-border-radius: 14;\\n  border-radius: 14px;\\n  color: #000000;\\n  font-size: 16px;\\n  padding: 10px 20px 10px 20px;\\n  border: solid #e4dfda 4px;\\n  text-decoration: none;\\n  width: 100px;\\n  height: 50px;\\n  margin-top: 20px;\\n  margin-left: 8px;\\n\\n  &:hover {\\n    border: solid #e4dfda 4px;\\n    text-decoration: none;\\n    color: #000;\\n    transform: scale(1.1);\\n    transition: all 0.3s ease;\\n  }\\n\"])));var Message=styled.p(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  margin-top: 20px;\\n  color: #ff0000;\\n  font-size: 16px;\\n\"])));function LoginForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isLogin=_useState10[0],setIsLogin=_useState10[1];var authContext=useContext(AuthContext);var navigate=useNavigate();var handleSubmit=function handleSubmit(event){event.preventDefault();var formData=new FormData();formData.append(\"username\",username);formData.append(\"email\",email);formData.append(\"password\",password);var requestData={username:username,email:email,password:password};var requestDataJSON=JSON.stringify(requestData);fetch(\"http://localhost:8001/user/login\",{method:\"POST\",headers:{'Content-Type':'application/json'// Set the content type to JSON\n},body:requestDataJSON}).then(function(response){return response.json();}).then(function(data){console.log(data.access_token);if(data.access_token){authContext.tokenize(data.access_token);authContext.usernameHandle(username);authContext.emailHandle(email);authContext.passHandle(password);setMessage(\"Login successful!\");console.log(authContext.email);setIsLogin(true);authContext.login();setTimeout(function(){navigate(\"/post\");},2000);// Do something else (e.g. redirect to dashboard)\n}else if(data.detail===\"Invalid Credentials\"){setMessage(\"Invalid credentials. Please check your email and password and try again.\");console.log(message);}else if(data.detail===\"Invalid password Credentials\"){setMessage(\"The password you entered is incorrect. Please try again.\");console.log(message);}}).catch(function(error){console.error(error);setMessage(\"An error occurred. Please try again.\");});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{className:\"bg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-no-overlay\",children:[/*#__PURE__*/_jsx(FormContainer,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Label,{children:[\"Username:\",/*#__PURE__*/_jsx(Input,{type:\"text\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(Label,{children:[\"Email:\",/*#__PURE__*/_jsx(Input,{type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(Label,{children:[\"Password:\",/*#__PURE__*/_jsx(Input,{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Login\"}),isLogin&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message text-success\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Login successful!\"})}),!isLogin&&message&&/*#__PURE__*/_jsx(Message,{children:message})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"reg\",children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:/*#__PURE__*/_jsx(\"span\",{className:\"regtxt\",children:\"Register Now!\"})})]})]})})});}export default LoginForm;","map":{"version":3,"names":["React","useContext","useState","styled","Link","useNavigate","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","_templateObject","_taggedTemplateLiteral","FormContainer","_templateObject2","Form","form","_templateObject3","Label","label","_templateObject4","Input","input","_templateObject5","Button","button","_templateObject6","Message","p","_templateObject7","LoginForm","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useState7","_useState8","message","setMessage","_useState9","_useState10","isLogin","setIsLogin","authContext","navigate","handleSubmit","event","preventDefault","formData","FormData","append","requestData","requestDataJSON","JSON","stringify","fetch","method","headers","body","then","response","json","data","console","log","access_token","tokenize","usernameHandle","emailHandle","passHandle","login","setTimeout","detail","catch","error","children","className","onSubmit","type","value","onChange","e","target","required","to"],"sources":["/home/tashfia/Documents/linkedin/frontend/src/Components/Auth/Login.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport styled from \"styled-components\";\nimport \"./Login.css\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../../Hooks/AuthContext\";\n\n\nconst Container = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  height: 100vh;\n`;\n\nconst FormContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 320px;\n  margin-left: 150px;\n  margin-top: 150px;\n`;\n\nconst Form = styled.form`\n  width: 400px;\n  padding: 40px;\n  background-color: #fff;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);\n`;\n\nconst Label = styled.label`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n  font-size: 18px;\n  font-weight: bold;\n`;\n\nconst Input = styled.input`\n  padding: 10px;\n  font-size: 16px;\n  border: none;\n  border-bottom: 2px solid #ccc;\n`;\n\nconst Button = styled.button`\n  -webkit-border-radius: 14;\n  -moz-border-radius: 14;\n  border-radius: 14px;\n  color: #000000;\n  font-size: 16px;\n  padding: 10px 20px 10px 20px;\n  border: solid #e4dfda 4px;\n  text-decoration: none;\n  width: 100px;\n  height: 50px;\n  margin-top: 20px;\n  margin-left: 8px;\n\n  &:hover {\n    border: solid #e4dfda 4px;\n    text-decoration: none;\n    color: #000;\n    transform: scale(1.1);\n    transition: all 0.3s ease;\n  }\n`;\n\nconst Message = styled.p`\n  margin-top: 20px;\n  color: #ff0000;\n  font-size: 16px;\n`;\n\nfunction LoginForm() {\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(false);\n  const authContext = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append(\"username\", username);\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n    const requestData = {\n      username,\n      email,\n      password,\n    };\n    const requestDataJSON = JSON.stringify(requestData);\n    fetch(\"http://localhost:8001/user/login\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json', // Set the content type to JSON\n      },\n      body: requestDataJSON, \n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data.access_token);\n        if (data.access_token) {\n          authContext.tokenize(data.access_token)\n          authContext.usernameHandle(username);\n          authContext.emailHandle(email);\n          authContext.passHandle(password);\n          setMessage(\"Login successful!\");\n          console.log(authContext.email);\n          setIsLogin(true)\n          authContext.login();\n          setTimeout(() => {\n            navigate(\"/post\");\n          }, 2000);\n          // Do something else (e.g. redirect to dashboard)\n        } else if (data.detail === \"Invalid Credentials\") {\n          setMessage(\n            \"Invalid credentials. Please check your email and password and try again.\"\n          );\n          console.log(message);\n        } else if (data.detail === \"Invalid password Credentials\") {\n          setMessage(\n            \"The password you entered is incorrect. Please try again.\"\n          );\n          console.log(message);\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n        setMessage(\"An error occurred. Please try again.\");\n      });\n  };\n\n  return (\n    <>\n    <Container className=\"bg\">\n      <div className=\"login-no-overlay\">\n        <FormContainer>\n          <Form onSubmit={handleSubmit}>\n          <Label>\n              Username:\n              <Input\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                required\n              />\n            </Label>\n            <Label>\n              Email:\n              <Input\n                type=\"text\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n              />\n            </Label>\n            <Label>\n              Password:\n              <Input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </Label>\n            <Button type=\"submit\">Login</Button>\n            {isLogin && (\n              <div className=\"success-message text-success\">\n                <b>Login successful!</b>\n              </div>\n            )}\n            {!isLogin && message && <Message>{message}</Message>}\n          </Form>\n        </FormContainer>\n        <div className=\"reg\">\n          Don't have an account?{\" \"}\n          <Link to=\"/register\">\n            <span className=\"regtxt\">Register Now!</span>\n          </Link>\n        </div>\n\n        {/* <div className=\"forget-pass\">\n          <Link to=\"/forgetPassCodeSend\">\n            <span className=\"regtxt\">Forgot Your Password?</span>\n          </Link>\n        </div> */}\n      </div>\n    </Container>\n    </>\n  );\n}\n\nexport default LoginForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}