{"ast":null,"code":"import _regeneratorRuntime from\"/home/tashfia/Documents/linkedin/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/tashfia/Documents/linkedin/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/tashfia/Documents/linkedin/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import axios from'axios';import{useParams,Link}from'react-router-dom';import{AuthContext}from'../../Hooks/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DetailedPost(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useParams=useParams(),postId=_useParams.postId;// Retrieve postId from URL parameter\nvar authContext=useContext(AuthContext);useEffect(function(){fetchPost();},[]);var fetchPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://post-service:8000/posts/\".concat(postId));case 3:response=_context.sent;setPost(response.data.post);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error('Error fetching post:',_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchPost(){return _ref.apply(this,arguments);};}();var handleLogout=function handleLogout(){authContext.logout();};return/*#__PURE__*/_jsxs(\"div\",{className:\"detailed-post container mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row independent\",children:authContext.token?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"login-btn\",onClick:handleLogout,children:\"Logout\"}),/*#__PURE__*/_jsx(\"button\",{className:\"login-btn\",children:authContext.username}),/*#__PURE__*/_jsx(Link,{to:\"/post\",children:/*#__PURE__*/_jsx(\"button\",{className:\"login-btn\",children:\"Feed\"})})]}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"button\",{className:\"login-btn\",children:\"Login/Signup\"})})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"card post-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title head-main\",children:\"Post Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-content\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"p-xtra\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"User:\"}),\" \",post.username]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",post.content]}),post.image&&/*#__PURE__*/_jsx(\"img\",{src:post.image,alt:\"Post\",className:\"img-fluid rounded\"})]})]})})]});}export default DetailedPost;","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","useParams","Link","AuthContext","jsx","_jsx","jsxs","_jsxs","DetailedPost","_useState","_useState2","_slicedToArray","post","setPost","_useParams","postId","authContext","fetchPost","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","sent","data","t0","console","error","stop","apply","arguments","handleLogout","logout","className","children","token","onClick","username","to","content","image","src","alt"],"sources":["/home/tashfia/Documents/linkedin/frontend/src/Components/DetailedPost/DetailedPost.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { useParams, Link } from 'react-router-dom';\nimport { AuthContext } from '../../Hooks/AuthContext';\n\nfunction DetailedPost() {\n  const [post, setPost] = useState({});\n  const { postId } = useParams(); // Retrieve postId from URL parameter\n  const authContext = useContext(AuthContext);\n\n  useEffect(() => {\n    fetchPost();\n  }, []);\n\n  const fetchPost = async () => {\n    try {\n      const response = await axios.get(`http://post-service:8000/posts/${postId}`);\n      setPost(response.data.post);\n    } catch (error) {\n      console.error('Error fetching post:', error);\n    }\n  };\n\n  const handleLogout = () => {\n    authContext.logout();\n  };\n\n  return (\n<div className=\"detailed-post container mt-4\">\n<div className=\"row independent\">\n        {authContext.token ? (\n          <div>\n  <button className=\"login-btn\" onClick={handleLogout}>\n    Logout\n  </button>\n  <button className=\"login-btn\">{authContext.username}</button>\n  <Link to=\"/post\">\n    <button className=\"login-btn\">Feed</button>\n  </Link>\n</div>\n        ) : (\n          <div>\n        <Link to=\"/login\">\n            <button className=\"login-btn\">Login/Signup</button>\n          </Link>\n          </div>\n        )}\n      </div>\n      <br></br><br></br>\n\n  <div className=\"card post-card\">\n    <div className=\"card-body\">\n      <h2 className=\"card-title head-main\">Post Details</h2>\n      <div className=\"post-content\">\n        <p className='p-xtra'><strong>User:</strong> {post.username}</p>\n        <p> {post.content}</p>\n        {post.image && <img src={post.image} alt=\"Post\" className=\"img-fluid rounded\" />}\n      </div>\n    </div>\n  </div>\n</div>\n\n  );\n}\n\nexport default DetailedPost;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}